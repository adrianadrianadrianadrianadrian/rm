#!/bin/bash

gcc -g -o compiler \
    main.c \
    lexer.c \
    utils.c \
    parser.c \
    error.c \
    context.c \
    soundness.c \
    type_checker.c \
    type_inference.c \
    lowering/c.c \
    -lm \
    -D DEBUG_CONTEXT

mkdir -p target
./compiler "$1"
rm compiler
cd target
gcc -o bin c_output.c
